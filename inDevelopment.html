<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <script src="classSelect.js"></script>

    <title>Dice Roller</title>
  </head>
  <body>
    <div class="header">
      <nav class="header">
        <a href="../index.html">Homepage</a>
        <a href="../dndrandom.html">Random Character Generator</a>
        <a href="../diceroller.html">Dice Roller</a>
        <a href="../about.html">About me</a>
      </nav>
      <br />
    </div>
    <br />
    <div id="content" class="singleRoller">
      <h1>Dice Roller:</h1>
      <td>
        <input id="diceCount" type="number" value="1" min="1" max="99" />
      </td>
      <select name="Dice Type" id="diceType">
        <option value="4" selected>d4</option>
        <option value="6">d6</option>
        <option value="8">d8</option>
        <option value="10">d10</option>
        <option value="12">d12</option>
        <option value="20">d20</option>
        <option value="100">d100</option>
      </select>
      <button class="rollButton" id="roll" onclick="rollDice()">Roll!</button>
      <h2>Rolls:</h2>
      <p id="outputRoll">Displayed here!</p>
      <h2>Total:</h2>
    </div>
    <script>
      document.getElementById("diceType").onchange = changeListener;
      document.getElementById("diceCount").onchange = timesRun;
      let selection = 4;
      let numberOfDice = 1;
      let thisRun = 0;
      let diceTotals = [];
      function changeListener() {
        selection = this.value;
        console.log(selection);
      }
      function timesRun() {
        numberOfDice = this.value;
        console.log(numberOfDice);
      }
      function rollDice() {
        while (numberOfDice > thisRun) {
          document.getElementById("roll").onclick = rollDice;
          document.getElementById("outputRoll").innerHTML = "";
          diceOutput = Math.floor(Math.random() * selection + 1);
          diceTotals.push(diceOutput);
          thisRun = thisRun + 1;
        }
        document.getElementById("outputRoll").innerHTML = diceTotals;
        thisRun = 0;
        diceTotals = [];
        console.log("complete");
      }
    </script>
  </body>
</html>
